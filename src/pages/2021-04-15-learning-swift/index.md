---
path: '/learn-swift'
date: '2021-04-15'
title: 'å­¸ç¿’ Swift'
tags: ['iOS', 'Swift', 'Learning']
excerpt: ''
---

## ç‚ºä»€éº¼è¦å­¸ç¿’é€™å€‹èªžè¨€

å› ç‚ºå·¥ä½œçš„éœ€è¦é€™é™£å­é–‹å§‹è¦å­¸ç¿’ Swift é€™å€‹èªžè¨€ï¼Œåœ¨å­¸ç¿’çµæŸå‰æˆ‘å€‘å…¬å¸å¸¸ä¾‹æœƒåšä¸€é»ž
å­¸ç¿’å¾Œçš„åˆ†äº«ï¼Œæ‰€ä»¥æˆ‘æƒ³å‰›å¥½ä¹Ÿåˆ©ç”¨é€™å€‹æ©ŸæœƒæŠŠä¸€äº›å­¸ç¿’çš„å¿ƒå¾—è·Ÿå­¸ç¿’çš„è³‡æºæ•´ç†æˆå¹¾ç¯‡æ–‡
ç« 

## æ•´ç†ä¸­çš„å­¸ç¿’è³‡æ–™

å‰é™£å­è·Ÿ [Cory House](https://github.com/coryhouse) å­¸ç¿’åˆ°ä¸€ç¨®ç”¨ Repo ä¾†æ•´ç†è³‡æº
çš„æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘è‡ªå·±ä¹Ÿæ•´ç†äº†ä¸€å€‹
[Swift links](https://github.com/konekoya/swift-links/blob/main/README.md)ï¼Œé€™å€‹
Repo è£¡åŒ…å«æˆ‘æ‰€æœ‰å­¸ç¿’ä¸­ä½¿ç”¨åˆ°çš„è³‡æº

> å¦‚æžœä½ å° JavaScript æœ‰èˆˆè¶£ä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹æˆ‘å·²ç¶“æ•´ç†ä¸€æ®µæ™‚é–“çš„
> [JavaScript Links](https://github.com/konekoya/javascript-links)

æœ‰åˆ¥æ–¼æˆ‘å¹³å¸¸å¯«çš„ç­†è¨˜ï¼Œé€™äº›è³‡æºé€šå¸¸éƒ½åªæœ‰"é€£çµ"ï¼ŒCory è‡ªå·±çš„æ–¹å¼æ˜¯ç”¨ issue ä¾†æ•´ç†
ï¼Œä½†æˆ‘è‡ªå·±ä¸æ˜¯å¾ˆå–œæ­¡ï¼Œåè€ŒæŠŠé€£çµéƒ½æ”¾åœ¨åŒä¸€å€‹ `README.md` è£¡æ˜¯æˆ‘è‡ªå·±æ¯”è¼ƒé †æ‰‹çš„æ–¹
å¼ï¼Œä¸¦ä¸”ç­‰å…§å®¹å¤šäº†å¾Œå¯ä»¥å†åšä¸€é»žç´¢å¼•æ”¾åœ¨ Markdown æª”æ¡ˆçš„ä¸Šæ–¹å°±å¯ä»¥äº† (Awesome ç³»
åˆ—çš„ Repo ä¹Ÿæ˜¯ç”¨é€™ç¨®æ–¹å¼ä¾†æ•´ç†)

è¨€æ­¸æ­£å‚³ï¼Œæˆ‘æƒ³å¾ž
[Swift links](https://github.com/konekoya/swift-links/blob/main/README.md) ä¸­æŽ¨
è–¦å¹¾å€‹æˆ‘è¦ºå¾—æœ€æ£’çš„å­¸ç¿’è³‡æºï¼š

- [Your First iOS and SwiftUI App: An App From Scratch](https://www.raywenderlich.com/17493408-your-first-ios-and-swiftui-app-an-app-from-scratch/)

  raywenderlich.com é€™å€‹ç¶²ç«™æä¾›éžå¸¸å¤šå­¸ç¿’çš„è³‡æºï¼Œæœ‰å½±ç‰‡ä¹Ÿæœ‰æ›¸ï¼Œæˆ‘è‡ªå·±å€‹äººæ˜¯å¾ˆå–œ
  æ­¡ç”¨å½±ç‰‡ä¾†å­¸ç¿’ã€‚é›–ç„¶ä¸æ˜¯æ‰€æœ‰æ±è¥¿éƒ½æ˜¯å…è²»çš„ï¼Œä½†æ˜¯å…‰æ˜¯å…è²»çš„è³‡æºå°±å¾ˆå¤ ç”¨äº†ï¼Œä¸Šé¢
  çš„é€™å€‹å½±ç‰‡å¾ˆæ£’çš„éƒ¨ä»½åœ¨æ–¼ä¸åªæ˜¯æä¾›äº† Swift é€™å€‹èªžè¨€æœ¬èº«çš„å­¸ç¿’ï¼Œä¹ŸåŒ…å«äº†æœ€æ–°çš„
  Swift UI çš„ä»‹ç´¹è·Ÿå¯¦ä½œï¼Œè€Œä¸”åœ¨èª²ç¨‹ä¸­ä½ å¯ä»¥å¯¦éš›çš„æ‰“é€ ä¸€å€‹å¯ä»¥é‹ä½œçš„ iOS App ðŸ’¯

- [Learn Swift by Codecademy](https://www.codecademy.com/learn/learn-swift)

  é€™ä¹Ÿæ˜¯æˆ‘å¾ˆå–œæ­¡çš„ç¶²ç«™ä¹‹ä¸€ï¼Œå®ƒçš„äº’å‹•å¼å­¸ç¿’æ–¹å¼å°æ–¼æˆ‘é€™ç¨®ä¸å–œæ­¡ä¸€ç›´è®€æ–‡ä»¶çš„äººçœŸçš„
  æ˜¯ç¦éŸ³ ðŸ˜†ï¼Œé›–ç„¶å…è²»çš„å…§å®¹ä¸å¤šï¼Œä½†æ˜¯æ•´å€‹èµ°ä¸€éå¾Œï¼Œæˆ‘è‡ªå·±è¦ºå¾—æ˜¯å°é€™å€‹èªžè¨€æœ¬èº«å¯
  ä»¥æœ‰ä¸€å®šå±¤åº¦çš„ç†Ÿæ‚‰äº†

## IDE (integrated development environment)

The primary IDE for ISO/Swift development are Xcode

#### Keyboard shortcuts

`cmd` + `opt` + `p`: Resume preview

`cmd` + `r`: Build and run the IOS device simulator

`cmd` + `u`: Run unit tests

`cmd` + `b`: Build the app

## REPL (Read, evaluate, print, loop)

Swift also support REPL for fast debugging or just play with the language, open
a terminal and enter `swift` in the prompt. To quite, type `:q` or `:quite`

## Swift playground

This is probably by far the best way (at least for me) to test some Swift built
in API or just play with the language itself. It supports auto completion and
can be re-run automatically. Pretty cool!

> There's also an online [Swift playground](http://online.swiftplayground.run/)
> that you can quickly tes t your code with.

## Variables

The first thing that really makes me puzzled is that swift uses `let` instead of
`const` to represent constants. For years, I've used `const` to declare
constants in JavaScript land and so whenever trying to declare a constant in the
swift, I have to think for a sec or two.

```swift
var str = "Learning isn't always fun"

str = "Learning is fun" // can be changed
```

> So `Let` is the new `const` in swift

#### String interpolation

Swift uses rather an interesting syntax for the string interpolation (Okay,
that's only a view from a Frontend dev ðŸ§ ), let's see an example:

```swift
let name = "John"

print("Hi, my name is \(name)") // Hi, my name is John
```

Variables inside that `\()` will be interpolated into string. This also apply to
other types like numbers

```swift
let name = "John"
let age = 20

print("Hi, my name is \(name) and I'm \(age) old :]") // Hi, my name is John and I'm 20 years old
```

You can also do expression inside it

```swift
let name = "John"
let isStudent = false

print("Hi, my name is \(name) and I'm \(isStudent ? "a student" : "not a student")") // Hi, my name is John and I'm not a student

```

### Dictionaries

```swift
// Defining a dictionary
var airlines = ["SWA": "Southwest Airlines", "BAW": "British Airways", "BHA": "Buddha Air", "CPA": "Cathay Pacific"]

// Add or update a value
airlines["DVA"] = "Discovery Airlines"

// Remove by setting a key to nil

airlines["BHA"] = nil

// Or by removeValue()
airlines.removeValue(forKey: "BAW")


// Looping thru the dictionary
for entry in airlines {
    print(entry.value)
}

// Or use a tuple for the key/value
for (key, value) in airlines {
    print("\(key): \(value)")
}
```

> Keep in mind, when looping thru a dictionary, it's unordered so the result
> will not be in the same sequence each time

### Tuple

```swift
// Tuple can be used to return multiple things with mixed types in a function
func getMovieDetail() -> (String, Int, String) {
    return ("Stranger Things", 2016, "The Duffer Brothers")
}

// We can "decompose" tuple values just like JS
var (title, releaseYear, director) = getMovieDetail()

print("\(title) is one of my favorite movies which is released in \(releaseYear) and directed by \(director)")

// Stranger Things is one of my favorite movies which is released in 2016 and directed by The Duffer Brothers

```

### Function

Note that in swift, functions and methods have the exact same syntax, the only
difference is where they're being declared, when functions are declare in a
`class` or `struct` we call it a **method**. Same rule apply to the variables
that are used in a `class` or `struct`, we call them **property**

#### Calling a function with Argument labels

When calling a function with Arguments in swift, you need to provide Argument
labels, for example:

```swift
func showMessage(name: String) {
  print("Hello, \(name)!")
}

// You cannot call the function without Argument labels
showMessage("Simon") // âŒ  Missing argument label 'name:' in call

// Instead, you need to provide the Argument label
showMessage(name: "Simon") // Hello, Simon!
```

I know that Argument label is a bit silly, but that does make the function call
more explicit and readable. You can omit that label though:

```swift
// Add an underscore before the parameter name
func showMessage(_ name: String) {
  print("Hello, \(name)!")
}

// calling without argument label works now!
showMessage("Simon") // Hello, Simon!
```

It's also common to rename argument labels to make the function call more
readable. Some good examples from the built in API:

```swift
type(of: someThingHere)
```

Note that instead of `typeOf` like JavaScript or C like languages, the function
name is `type` then follow a parameter label of `of` and so calling it like the
above :)

And so with our previous `showMessage` function example, we can rename the
redundant `message` argument label instead of omitting it:

```swift
func show(message: String) {
  print("Hello, \(name)!")
}

// And call it like:
show(message: "Joshua")
```

### Enum

```swift
// Defining an Enum
enum MediaType {
    case book
    case movie
    case music
    case game
}

// Assign enum value to a new type
var item: MediaType = MediaType.book

// The enum name can be omitted
item = .movie
```

Remember that when using an `enum` with `switch`, it should be exhausted,
meaning all possible cases should be handled, and the `default` case can be
omitted

```swift
switch item {
case .book:
    print("Reading")
case .game:
    print("Gaming night!")
case .movie:
    print("Movie for tonight")
case .music:
    print("Hmm, some classic music would be nice!")
```

### Struct

In swift, `Struct` is a lot like `Class`, with the ability to add method or
property

```swift
struct Movie {
    // Properties
    var title: String
    var director: String
    var releaseYear: Int
    var genre: String

    // Method
    func summary() -> String {
        return "\(title) is a \(genre) film released in \(releaseYear) and directed by \(director)"
    }
}

// Struct can be initialized with it's init method
var first = Movie(title: "Arrival", director: "Denis Villeneuve", releaseYear: 2016, genre: "Science Fiction")
var second = Movie(title: "Sing Street", director: "John Carney", releaseYear: 2017, genre: "Comedy Musical")


// Accessing the property
print(first.title)


// Re-assigning the property
second.releaseYear = 2020

print(second.releaseYear)


// Calling a method
print(first.summary())

```

## SwiftUI

#### Views vs. modifiers

Views are backbone of all visuals in SwiftUI

Modifiers change how view are displayed (size, color, etc.)
